/*!
 * Brav1Toolbox.js - common utility scripts and polyfills
 * http://marcolago.com/
 * MIT licensed
 *
 * Copyright (C) 2012-now Marco Lago, http://marcolago.com
 */
var Brav1Toolbox=(function(){var d=["","-webkit-","-moz-","-ms-","-o-"];
function l(){if(window.getComputedStyle){return window.getComputedStyle(document.body);}else{return document.documentElement.style;}}var j=l();function m(o,q,p,n){if(o.addEventListener){o.addEventListener(q,p,n);
}else{if(o.attachEvent){o.attachEvent("on"+q,p);}}}function f(n,p,o){if(n.removeEventListener){n.removeEventListener(p,o);}else{if(n.detachEvent){n.detachEvent("on"+p,o);
}}}function i(n){return k(n)!="";}function k(t){var s=j||l();for(var n=0;n<d.length;n++){var r=d[n].replace(/-/g,"");var q=t;if(r.length>0){q=q.charAt(0).toUpperCase()+q.substr(1);
}q=r+q;if(q in s==true){return q;}}return"";}function e(n){return !!n&&Object.prototype.toString.call(n).match(/(\w+)\]/)[1];}function h(o,p){if(o.classList){o.classList.add(p);
}else{if(g(o,p)==false){var n=o.className;if(n.length>0){n+=" ";}o.className=n+p;}}}function a(o,p){if(o.classList){o.classList.remove(p);}else{var n=o.className;
if(n.indexOf(p)!=-1){if(n.indexOf(" "+p)!=-1){n=n.replace(" "+p,"");}else{if(n.indexOf(p+" ")!=-1){n=n.replace(p+" ","");}else{n=n.replace(p,"");}}}o.className=n;
}}function g(n,o){if(n){if(n.classList){return n.classList.contains(o);}else{if(n.className){return n.className.indexOf(o)!=-1;}}}return false;}function c(n,r){if(document.createEvent){var q=document.createEvent("HTMLEvents");
q.initEvent(n,true,true);for(var o in r){q[o]=r[o];}document.dispatchEvent(q);}}function b(o,n){var q;var p;q=n.x-o.x;q*=q;p=n.y-o.y;p*=p;return Math.abs(Math.sqrt(q+p));
}return{addListener:m,removeListener:f,dispatchEvent:c,testCSS:i,getPrefixed:k,typeOf:e,addClass:h,removeClass:a,hasClass:g,distance:b};})();
/*!
 * Flowtime.js
 * http://marcolago.com/flowtime-js/
 * MIT licensed
 *
 * Copyright (C) 2012-now Marco Lago, http://marcolago.com
 */
var Flowtime=(function(){var aT=false;
if(("ontouchstart" in window)||(navigator.maxTouchPoints>0)||(navigator.msMaxTouchPoints>0)){aT=true;}var r=window.history.pushState;var bH="ft-section";
var aQ="."+bH;var bF="ft-page";var q="."+bF;var k="ft-fragment";var aU="."+k;var a2="revealed";var O="actual";var a8="revealed-temp";var bG="ft-default-progress";
var h="."+bG;var ax="ft-section-thumb";var aA="."+ax;var an="ft-page-thumb";var E="."+an;var y="ft-cross";var bj="flowtimenavigation";var bK=document.querySelector(".flowtime");
var af=document.querySelector("html");var X=document.querySelector("body");var B=false;var a7="";var bt={section:0,page:0};var aL=false;var m=document.title;
var bx;var bI=22;var bA=null;var aH=false;var bN=true;var ag=false;var aO=false;var U=false;var a9=false;var bb=false;var o=false;var ac=false;var bL=false;
var bl=50;var bk=50;var aV=document.querySelector(".parallax")!=null;var aZ=false;var bJ=true;var ao=true;var L=true;var bD=true;var n=100;var M=Brav1Toolbox.hasClass(bK,y);
var ay=undefined;var aj=[];var f=false;var u=false;var aX=true;try{var a0=document.querySelector("html").className.toLowerCase();if(a0.indexOf("ie7")!=-1||a0.indexOf("ie8")!=-1||a0.indexOf("lt-ie9")!=-1){aX=false;
}}catch(bg){aX=false;}if(aX){Brav1Toolbox.addClass(X,"ft-absolute-nav");}var az=(function(){var cA;var b5;var ch;var cw;var cd;var co=[];var ce=[];var cn=0;
var cN=0;var cx=0;var cG=0;var ca=0;var cH=0;var b1=0;var cr;function bS(){b5=[];ce=[];cw=document.querySelectorAll(aU);cd=[];cA=bK.querySelectorAll(".flowtime > "+aQ);
ch=bK.querySelectorAll(".flowtime "+q);for(var cQ=0;cQ<cA.length;cQ++){var cO=[];var cU=cA[cQ];cd[cQ]=[];co[cQ]=[];if(cU.getAttribute("data-id")){cU.setAttribute("data-id","__"+c(cU.getAttribute("data-id")));
}cU.setAttribute("data-prog","__"+(cQ+1));cU.index=cQ;cU.setAttribute("id","");pages=cU.querySelectorAll(q);cx+=pages.length;cN=Math.max(cN,pages.length);
for(var cR=0;cR<pages.length;cR++){var cP=pages[cR];if(cP.getAttribute("data-id")){cP.setAttribute("data-id","__"+c(cP.getAttribute("data-id")));}cP.setAttribute("data-prog","__"+(cR+1));
cP.index=cR;cP.setAttribute("id","");if(!cP.getAttribute("data-title")){var cT=cP.querySelector("h1");if(cT!=null&&cT.textContent.lenght!=""){cP.setAttribute("data-title",cT.textContent);
}}cc(cP,cQ,cR);cO.push(cP);var cS=cP.querySelectorAll(aU);cd[cQ][cR]=cS;co[cQ][cR]=-1;}b5.push(cO);}cn=cA.length;be();b2();}function cc(cU,cV,cR){if(aV){if(ce[cV]==undefined){ce[cV]=[];
}if(ce[cV][cR]==undefined){ce[cV][cR]=[];}var cT=cU.querySelectorAll(".parallax");if(cT.length>0){for(var cS=0;cS<cT.length;cS++){var cO=cT[cS];var cQ=bl;
var cP=bk;if(cO.getAttribute("data-parallax")!=null){var cW=cO.getAttribute("data-parallax").split(",");cQ=cP=cW[0];if(cW.length>1){cP=cW[1];}}cO.pX=cQ;
cO.pY=cP;ce[cV][cR].push(cO);}}}}function b0(){return ce;}function b2(){for(var cP=0;cP<ch.length;cP++){var cO=ch[cP];cO.x=cO.offsetLeft+cO.parentNode.offsetLeft;
cO.y=cO.offsetTop+cO.parentNode.offsetTop;}}function bW(cS,cR){var cQ=ca;var cP=cS===!aO;if(cR==true&&cd[cG][ca].length>0&&co[cG][ca]<cd[cG][ca].length-1&&cP!=true&&io==false){b6(cG,ca);
}else{cQ=0;if(cP===true&&cG+1<=b5.length-1){cQ=0;}else{if(cP!==true||bN===true||cG+1>b5.length-1){cQ=ca;}}var cO=Math.min(cG+1,b5.length-1);if(bb==true&&cO===cG){cG=0;
}else{cG=cO;}if(f===true&&aj[cG]!==undefined){cQ=aj[cG];}return cv(b5[cG],cQ);}return cB(b5[cG][ca]);}function cz(cS,cR){var cQ=ca;var cP=cS===!aO;if(cR===true&&cd[cG][ca].length>0&&co[cG][ca]>=0&&cP!==true&&aL===false){cI(cG,ca);
}else{var cQ=0;cQ=0;if(cP===true&&cG-1>=0){cQ=0;}else{if(cP!==true||bN===true||cG-1<0){cQ=ca;}}var cO=Math.max(cG-1,0);if(bb===true&&cO===cG){cG=b5.length-1;
}else{cG=cO;}if(f===true&&aj[cG]>=0){cQ=aj[cG];}return cv(b5[cG],cQ);}return cB(b5[cG][ca]);}function cv(cR,cP){var cQ=cR[cP];if(cQ===undefined){if(u===true&&cR[cP]===undefined){cQ=cR[0];
cP=0;}else{for(var cO=cP;cO>=0;cO--){if(cR[cO]!==undefined){cQ=cR[cO];cP=cO;break;}}}}ca=cP;if(!aL){cp();}return cB(cQ);}function bR(cO){if(cd[cG][ca].length>0&&co[cG][ca]<cd[cG][ca].length-1&&cO!=true&&aL==false){b6(cG,ca);
}else{if(b5[cG][ca+1]==undefined){if(b5[cG+1]!=undefined){cG+=1;ca=0;}else{if(b5[cG+1]==undefined&&bb==true){cG=0;ca=0;}}}else{ca=Math.min(ca+1,b5[cG].length-1);
}}return cB(b5[cG][ca]);}function cJ(cO){if(cd[cG][ca].length>0&&co[cG][ca]>=0&&cO!=true&&aL==false){cI(cG,ca);}else{if(ca==0){if(b5[cG-1]!=undefined){cG-=1;
ca=b5[cG].length-1;}else{if(b5[cG-1]==undefined&&bb==true){cG=b5.length-1;ca=b5[cG].length-1;}}}else{ca=Math.max(ca-1,0);}}return cB(b5[cG][ca]);}function cB(cO){if(aL==true){bT(cO);
return;}else{return cO;}}function b6(cO,cQ,cR){if(cR!=undefined){co[cO][cQ]=cR;}else{cR=co[cO][cQ]+=1;}for(var cP=0;cP<=cR;cP++){Brav1Toolbox.addClass(cd[cO][cQ][cP],a2);
Brav1Toolbox.removeClass(cd[cO][cQ][cP],O);}Brav1Toolbox.addClass(cd[cO][cQ][cR],O);}function cI(cO,cQ,cR){if(cR!=undefined){co[cO][cQ]=cR;}else{cR=co[cO][cQ];
}for(var cP=0;cP<cd[cO][cQ].length;cP++){if(cP>=cR){Brav1Toolbox.removeClass(cd[cO][cQ][cP],a2);Brav1Toolbox.removeClass(cd[cO][cQ][cP],a8);}Brav1Toolbox.removeClass(cd[cO][cQ][cP],O);
}cR-=1;if(cR>=0){Brav1Toolbox.addClass(cd[cO][cQ][cR],O);}co[cO][cQ]=cR;}function bY(){for(var cO=0;cO<cw.length;cO++){Brav1Toolbox.addClass(cw[cO],a8);
}}function cg(){for(var cO=0;cO<cw.length;cO++){Brav1Toolbox.removeClass(cw[cO],a8);}}function cp(){for(var cS=0;cS<cd.length;cS++){var cP=cd[cS];for(var cQ=0;
cQ<cP.length;cQ++){var cO=cP[cQ];if(cO.length>0){if(cS>cG){for(var cR=cO.length-1;cR>=0;cR--){cI(cS,cQ,cR);}}else{if(cS<cG){for(var cR=0;cR<cO.length;cR++){b6(cS,cQ,cR);
}}else{if(cS==cG){if(cQ>ca){for(var cR=cO.length-1;cR>=0;cR--){cI(cS,cQ,cR);}}else{if(cQ<ca){for(var cR=0;cR<cO.length;cR++){b6(cS,cQ,cR);}}else{if(cQ==ca){if(bN==true&&(bt.section>az.getPageIndex().section||bt.page>az.getPageIndex().page)){for(var cR=0;
cR<cO.length;cR++){b6(cS,cQ,cR);}}else{for(var cR=cO.length-1;cR>=0;cR--){cI(cS,cQ,cR);}}if(bN==false){co[cS][cQ]=-1;}else{if(bt.section>az.getPageIndex().section||bt.page>az.getPageIndex().page){co[cS][cQ]=cO.length-1;
}else{co[cS][cQ]=-1;}}}}}}}}}}}}function b9(cO){if(cO){}return cG;}function bQ(cO){if(cO){}return ca;}function cE(){return cA;}function ci(cO){return b5[cO];
}function ck(){return ch;}function cM(){return cn;}function cq(){return cN;}function cl(){return cx;}function cy(cQ){var cP=cG;var cO=ca;if(cQ!=undefined){cP=cQ.parentNode.index;
cO=cQ.index;}return{section:cP,page:cO};}function cF(cO){return cA[cO];}function cf(cO,cP){return b5[cP][cO];}function bZ(){return cA[cG];}function cC(){return b5[cG][ca];
}function cL(){var cO=cG-1;if(cO<0){if(bb===true){cO=b5.length-1;}else{return null;}}return cO;}function b4(){var cO=cL();if(cO===null){return null;}return cA[cO];
}function cm(){var cO=ca-1;if(cO<0){if(cG===0&&bb){var cP=b5.length-1;return b5[cP][b5[cP].length-1];}else{if(cG>0){return b5[cG-1][b5[cG-1].length-1];
}else{return null;}}}return b5[cG][cO];}function cs(){var cO=cG+1;if(cO>b5.length-1){if(bb===true){cO=0;}else{return null;}}return cO;}function cb(){var cO=cs();
if(cO===null){return null;}return cA[cO];}function b8(){var cO=ca+1;if(cO>b5[cG].length-1){if(cG===b5.length-1&&bb){return b5[0][0];}else{if(cG<b5.length-1){return b5[cG+1][0];
}else{return null;}}}return b5[cG][cO];}function cu(){return cd[cG][ca][e()];}function e(){return co[cG][ca];}function cj(){return cG<cA.length-1;}function bX(){return cG>0;
}function b3(){return ca<b5[cG].length-1;}function bV(){return ca>0;}function ct(){if(cG==0&&ca==0){return 0;}var cP=0;for(var cO=0;cO<cG;cO++){cP+=b5[cO].length;
}cP+=b5[cG][ca].index+1;return cP;}function cD(cR){if(cR!=undefined){ca=cy(cR).page;cG=cy(cR).section;}var cQ="";var cO=cA[cG];cQ+=W(cO);if(b5[cG].length>1){var cP=b5[cG][ca];
cQ+="/"+W(cP);}return cQ;}function bU(cS){var cT=ae(cS);if(cT){var cP=cT.parentNode;for(var cO=0;cO<b5.length;cO++){var cR=b5[cO];if(cA[cO]===cP){cG=cO;
for(var cQ=0;cQ<cR.length;cQ++){if(cR[cQ]===cT){ca=cQ;break;}}}}cp();}return cT;}function bT(cU,cO){var cS=cU.parentNode.index;for(var cP=0;cP<b5.length;
cP++){var cR=b5[cP];for(var cQ=0;cQ<cR.length;cQ++){var cT=cR[cQ];Brav1Toolbox.removeClass(cT,"past-section");Brav1Toolbox.removeClass(cT,"future-section");
Brav1Toolbox.removeClass(cT,"past-page");Brav1Toolbox.removeClass(cT,"future-page");if(cT!==cU){Brav1Toolbox.removeClass(cT,"hilite");if(aL==false&&cT!==cC()){Brav1Toolbox.removeClass(cT,"actual");
}if(cP<cS){Brav1Toolbox.addClass(cT,"past-section");}else{if(cP>cS){Brav1Toolbox.addClass(cT,"future-section");}}if(cT.index<cU.index){Brav1Toolbox.addClass(cT,"past-page");
}else{if(cT.index>cU.index){Brav1Toolbox.addClass(cT,"future-page");}}}}}Brav1Toolbox.addClass(cU,"hilite");if(cO){cK(cU);}cr=cU;}function b7(){return cr;
}function cK(cO){Brav1Toolbox.addClass(cO,"actual");}bS();return{update:bS,updateFragments:cp,showFragments:bY,hideFragments:cg,getSection:b9,getPage:bQ,getSections:cE,getPages:ci,getAllPages:ck,getNextSection:bW,getPrevSection:cz,getNextPage:bR,getPrevPage:cJ,getSectionsLength:cM,getPagesLength:cq,getPagesTotalLength:cl,getPageIndex:cy,getSectionByIndex:cF,getPageByIndex:cf,getCurrentSection:bZ,getCurrentPage:cC,getPrevSectionObject:b4,getPrevPageObject:cm,getNextSectionObject:cb,getNextPageObject:b8,getCurrentFragment:cu,getCurrentFragmentIndex:e,getProgress:ct,getHash:cD,setPage:bU,switchActivePage:bT,getCurrentHilited:b7,hasNextSection:cj,hasPrevSection:bX,hasNextPage:b3,hasPrevPage:bV,updateOffsets:b2,getParallaxElements:b0};
})();if(aX){if(aT){Brav1Toolbox.addListener(document,"touchend",function(bQ){bQ.preventDefault();R(bQ);},false);}Brav1Toolbox.addListener(document,"click",R,false);
}function R(bU){if(bD){if(bU.target.nodeName==="A"||bU.target.parentNode.nodeName==="A"){var bR=bU.target.getAttribute("href")||bU.target.parentNode.getAttribute("href");
if(bR==="#"){return;}if(bR){bU.target.blur();if(bR.substr(0,1)=="#"){bU.preventDefault();var bS=az.setPage(bR);aE(bS,true,true);}}}if(aL){var bS=bU.target;
while(bS&&!Brav1Toolbox.hasClass(bS,bF)){bS=bS.parentNode;}if(Brav1Toolbox.hasClass(bS,bF)){bU.preventDefault();aE(bS,null,true);}}if(Brav1Toolbox.hasClass(bU.target,an)){bU.preventDefault();
var bT=Number(c(bU.target.getAttribute("data-section")));var bQ=Number(c(bU.target.getAttribute("data-page")));aa(bT,bQ);}}}if(B==false&&window.history.pushState){window.onpopstate=bM;
}else{B=true;}function bM(bS){B=false;var bR;if(bS.state){bR=bS.state.token.replace("#/","");}else{bR=document.location.hash.replace("#/","");}var bQ=az.setPage(bR);
aE(bQ,false);}Brav1Toolbox.addListener(window,"hashchange",bE);function bE(bS,bT){if(B||bT){var bR=document.location.hash.replace("#/","");var bQ=az.setPage(bR);
aE(bQ,false);}}function ak(e){aZ=e;if(aZ){Brav1Toolbox.addListener(bK,"mousedown",a5,false);Brav1Toolbox.addListener(bK,"mouseup",v,false);}else{Brav1Toolbox.removeListener(bK,"mousedown",a5);
Brav1Toolbox.removeListener(bK,"mouseup",v);}}var l=bK.offsetX;var j=0;var V=0;var T=0;var ar=0;var aq=0;var t=0;var aY="x";var a4=100;if(aT){bK.addEventListener("touchstart",a5,false);
bK.addEventListener("touchmove",x,false);bK.addEventListener("touchend",v,false);}function a5(bQ){ar=0;aq=0;bQ=s(bQ);V=bQ.clientX;T=bQ.clientY;t=1;var bR=z();
l=bR.x;j=bR.y;if(aZ){Brav1Toolbox.addListener(bK,"mousemove",x,false);}}function x(bQ){bQ.preventDefault();bQ=s(bQ);ar=bQ.clientX-V;aq=bQ.clientY-T;}function v(bQ){if(L){if(Math.abs(ar)>=a4||Math.abs(aq)>=a4){bQ=s(bQ);
t=0;aY=Math.abs(ar)>=Math.abs(aq)?"x":"y";if(aY=="x"&&Math.abs(ar)>=a4){if(ar>0){if(M===true){A();}else{ba();}return;}else{if(ar<0){if(M===true){ab();}else{bw();
}return;}}}else{if(aq>0&&Math.abs(aq)>=a4){if(M===true){ba();}else{A();}return;}else{if(aq<0){if(M===true){bw();}else{ab();}return;}}}}}Brav1Toolbox.removeListener(bK,"mousemove",x);
}function s(bQ){if(bQ.touches){bQ=bQ.touches[0];}return bQ;}function z(){var bT=bK.style[Brav1Toolbox.getPrefixed("transform")];var bS=bT.indexOf("translateX(")+11;
var bQ=bT.substring(bS,bT.indexOf(")",bS));if(bQ.indexOf("%")!=-1){bQ=bQ.replace("%","");bQ=(parseInt(bQ)/100)*window.innerWidth;}else{if(bQ.indexOf("px")!=-1){bQ=parseInt(bQ.replace("px",""));
}}var bR=bT.indexOf("translateY(")+11;var e=bT.substring(bR,bT.indexOf(")",bR));if(e.indexOf("%")!=-1){e=e.replace("%","");e=(parseInt(e)/100)*window.innerHeight;
}else{if(e.indexOf("px")!=-1){e=parseInt(e.replace("px",""));}}return{x:bQ,y:e};}var aN=true;Brav1Toolbox.addListener(window,"scroll",K);function K(bQ){bQ.preventDefault();
be();}Brav1Toolbox.addListener(bK,"mousewheel",aC,false);bK.addEventListener("DOMMouseScroll",aC,false);var bs=NaN;function aC(bQ){clearTimeout(bs);if(bJ){bQ.preventDefault();
bs=setTimeout(function(){at(bQ);},n);}}function at(bQ){clearTimeout(bs);if(bQ.wheelDelta){if(bQ.wheelDeltaX!=undefined){if(bQ.wheelDeltaX==0){if(bQ.wheelDeltaY<0){if(M===true){bw();
}else{ab();}}else{if(bQ.wheelDeltaY>0){if(M===true){ba();}else{A();}}}}else{if(bQ.wheelDeltaY==0){if(bQ.wheelDeltaX<0){if(M===true){ab();}else{bw();}}else{if(bQ.wheelDeltaX>0){if(M===true){A();
}else{ba();}}}}}}else{if(bQ.wheelDelta<0){ab();}else{if(bQ.wheelDelta>0){A();}}}}else{if(bQ.detail){if(bQ.detail>0){if(bQ.axis==1){if(M===true){ab();}else{bw();
}}else{if(M===true){bw();}else{ab();}}}else{if(bQ.detail<0){if(bQ.axis==1){if(M===true){A();}else{ba();}}else{if(M===true){ba();}else{A();}}}}}}}var aw=(function ai(){var bS=NaN;
function bR(){e();if(!aL){bS=setTimeout(bQ,300);}}function e(){clearTimeout(bS);}function bQ(){az.updateOffsets();aE();}Brav1Toolbox.addListener(window,"resize",bR);
window.addEventListener("orientationchange",bR,false);return{enable:bR,disable:e};})();function ae(bQ){if(bQ.length>0){var e=bQ.replace("#/","").split("/");
if(e.length>0){var bS=document.querySelector(aQ+"[data-id=__"+e[0]+"]")||document.querySelector(aQ+"[data-prog=__"+e[0]+"]");if(bS!=null){var bR=null;if(e.length>1){bR=bS.querySelector(q+"[data-id=__"+e[1]+"]")||bS.querySelector(q+"[data-prog=__"+e[1]+"]");
}if(bR==null){bR=bS.querySelector(q);}return bR;}}}return;}function a(){az.update();bE(null,true);}function J(bT){var bS=m;var e=az.getCurrentPage().getAttribute("data-title");
if(e==null){var bR=bT.split("/");for(var bQ=0;bQ<bR.length;bQ++){bS+=" | "+bR[bQ];}}else{if(az.getCurrentSection().getAttribute("data-title")!=null){bS+=" | "+az.getCurrentSection().getAttribute("data-title");
}bS+=" | "+e;}document.title=bS;}function W(e){return(e.getAttribute("data-id")!=null?e.getAttribute("data-id").replace(/__/,""):e.getAttribute("data-prog").replace(/__/,""));
}function aR(e){if(e.substr(0,2)!="__"){return"__"+e;}else{return e;}}function c(e){if(e.substr(0,2)=="__"){return e.replace(/__/,"");}else{return e;}}function aE(bT,bS,bV){bS=bS==false?bS:true;
if(!bT){if(az.getCurrentPage()!=null){bT=az.getCurrentPage();}else{bT=document.querySelector(q);}bS=true;}g(bT);aW(bT);if(aL){bd(false,false);}var bU=az.getHash(bT);
if(bV==true){az.updateFragments();}var e=az.getPageIndex(bT);if(bt.section!=e.section||bt.page!=e.page){if(r!=null&&bS!=false&&az.getCurrentFragmentIndex()==-1){var bR={token:bU};
var bQ="#/"+bU;a7=bQ;window.history.pushState(bR,null,a7);}else{document.location.hash="/"+bU;}}J(bU);aj[e.section]=e.page;bC();bt=e;az.switchActivePage(bT,true);
if(o){bn();}}function bC(){var e=az.getPageIndex();var bQ={section:az.getCurrentSection(),page:az.getCurrentPage(),sectionIndex:e.section,pageIndex:e.page,pastSectionIndex:bt.section,pastPageIndex:bt.page,prevSection:az.hasPrevSection(),nextSection:az.hasNextSection(),prevPage:az.hasPrevPage(),nextPage:az.hasNextPage(),fragment:az.getCurrentFragment(),fragmentIndex:az.getCurrentFragmentIndex(),isOverview:aL,progress:az.getProgress(),total:az.getPagesTotalLength(),isLoopable:bb,clickerMode:ac,isAutoplay:by};
Brav1Toolbox.dispatchEvent(bj,bQ);if(ay!==undefined){ay(bQ);}}function g(bR){var bQ;var bS;var e=az.getPageIndex(bR);if(ag==true){bQ=bR.x;bS=bR.y;}else{if(M===true){bS=e.section;
bQ=e.page;}else{bQ=e.section;bS=e.page;}}if(Brav1Toolbox.testCSS("transform")){if(ag){bK.style[Brav1Toolbox.getPrefixed("transform")]="translateX("+-bQ+"px) translateY("+-bS+"px)";
}else{bK.style[Brav1Toolbox.getPrefixed("transform")]="translateX("+-bQ*100+"%) translateY("+-bS*100+"%)";}}else{if(ag){bK.style.top=-bS+"px";bK.style.left=-bQ+"px";
}else{bK.style.top=-bS*100+"%";bK.style.left=-bQ*100+"%";}}be();}function aW(bX){if(aV){var bR=az.getPageIndex(bX);var bV=az.getParallaxElements();for(var bT=0;
bT<bV.length;bT++){var bS=bV[bT];if(bS!=undefined){for(var bZ=0;bZ<bS.length;bZ++){var bY=bS[bZ];if(bY!=undefined){for(var bU=0;bU<bY.length;bU++){var b0=bY[bU];
var bQ=0;var e=0;if(bR.section<bT){bQ=b0.pX;}else{if(bR.section>bT){bQ=-b0.pX;}}if(bR.page<bZ){e=b0.pY;}else{if(bR.page>bZ){e=-b0.pY;}}var bW="%";if(bL){bW="px";
}if(M===true){b0.style[Brav1Toolbox.getPrefixed("transform")]="translateX("+e+bW+") translateY("+bQ+bW+")";}else{b0.style[Brav1Toolbox.getPrefixed("transform")]="translateX("+bQ+bW+") translateY("+e+bW+")";
}}}}}}}}function be(){window.scrollTo(0,0);}var bA=null;var bf=null;function bo(){var bQ=document.createDocumentFragment();bA=document.createElement("div");
bA.className=bG+(M===true?" ft-cross":"");bQ.appendChild(bA);for(var bS=0;bS<az.getSectionsLength();bS++){var e=document.createElement("div");e.setAttribute("data-section","__"+bS);
e.className=ax;Brav1Toolbox.addClass(e,"thumb-section-"+bS);var bR=az.getPages(bS);for(var bT=0;bT<bR.length;bT++){var bU=document.createElement("div");
bU.className=an;bU.setAttribute("data-section","__"+bS);bU.setAttribute("data-page","__"+bT);Brav1Toolbox.addClass(bU,"thumb-page-"+bT);e.appendChild(bU);
}bA.appendChild(e);}X.appendChild(bA);}function aI(){if(bA!=null){X.removeChild(bA);bA=null;}}function bn(){if(bA!=null){var bS=bA.querySelectorAll(E);
for(var bR=0;bR<bS.length;bR++){var bT=bS[bR];var bQ=Number(c(bT.getAttribute("data-section")));var e=Number(c(bT.getAttribute("data-page")));if(bQ==az.getPageIndex().section&&e==az.getPageIndex().page){Brav1Toolbox.addClass(bS[bR],"actual");
}else{Brav1Toolbox.removeClass(bS[bR],"actual");}}}}function i(){return bA;}function bd(e,bQ){if(aL){aF(e,bQ);}else{bx=az.getCurrentPage();G();}}function av(bQ,e,bR){if(aL===bQ){return;
}aL=!bQ;bd(e,bR);}function aF(e,bQ){aL=false;Brav1Toolbox.removeClass(X,"ft-overview");az.hideFragments();bQ=bQ===false?false:true;if(bQ==true){if(e==true){aE(bx);
}else{aE();}}}function G(){aL=true;Brav1Toolbox.addClass(X,"ft-overview");az.showFragments();if(U==false){F(true);}else{D(true);}bC();}function F(bS){if(bS){if(M===true){var bQ=100/az.getSectionsLength();
var bR=100/az.getPagesLength();}else{var bR=100/az.getSectionsLength();var bQ=100/az.getPagesLength();}var bT=Math.min(bR,bQ)*0.9;var e=(100-az.getSectionsLength()*bT)/2;
var bU=(100-az.getPagesLength()*bT)/2;bK.style[Brav1Toolbox.getPrefixed("transform")]="translate("+e+"%, "+bU+"%) scale("+bT/100+", "+bT/100+")";}}function D(bQ){if(bQ){var bS=bI;
var bR=az.getPageIndex();if(M===true){var bT=50-(bS*bR.section)-(bS/2);var e=50-(bS*bR.page)-(bS/2);}else{var e=50-(bS*bR.section)-(bS/2);var bT=50-(bS*bR.page)-(bS/2);
}bK.style[Brav1Toolbox.getPrefixed("transform")]="translate("+e+"%, "+bT+"%) scale("+bS/100+", "+bS/100+")";}}Brav1Toolbox.addListener(window,"keydown",bh);
Brav1Toolbox.addListener(window,"keyup",bq);function bh(bR){var bQ=bR.target.tagName;if(bQ!="INPUT"&&bQ!="TEXTAREA"&&bQ!="SELECT"){if(bR.keyCode>=37&&bR.keyCode<=40){bR.preventDefault();
}}}function bq(bS){if(ao){var bQ=bS.target.tagName;var bR;if(bQ!="INPUT"&&bQ!="TEXTAREA"&&bQ!="SELECT"){bS.preventDefault();switch(bS.keyCode){case 27:bd(true);
break;case 33:if(ac){A(bS.shiftKey);}else{w();}break;case 34:if(ac){ab(bS.shiftKey);}else{a3();}break;case 35:bz();break;case 36:bP();break;case 37:if(M===true){A(bS.shiftKey);
}else{ba(bS.shiftKey);}break;case 39:if(M===true){ab(bS.shiftKey);}else{bw(bS.shiftKey);}break;case 38:if(M===true){ba(bS.shiftKey);}else{A(bS.shiftKey);
}break;case 40:if(M===true){bw(bS.shiftKey);}else{ab(bS.shiftKey);}break;case 13:if(aL){aa(az.getCurrentHilited());}break;default:break;}}}}var by=false;
var d=0;var aB=10000;var au=false;var ap=0;var am=0;function H(e,bQ,bS,bR){aB=isNaN(parseInt(bQ))?aB:bQ;au=bR===true||false;if(e==true&&bS!==false){Y();
}}function Y(){by=true;clearTimeout(d);ap=Date.now();d=setTimeout(function(){ab(au);Y();},aB-am);am=0;}function bm(){by=false;am=Date.now()-ap;clearTimeout(d);
}function br(){by=false;clearTimeout(d);ap=0;am=0;}function P(){if(o&&bA==null){bo();}if(document.location.hash.length>0){Brav1Toolbox.addClass(bK,"no-transition");
bE(null,true);Brav1Toolbox.removeClass(bK,"no-transition");}else{if(P.arguments.length>0){aa.apply(this,P.arguments);}else{aa(0,0);bn();}}}function bw(e){var bQ=az.getNextSection(e,aH);
if(bQ!=undefined){aE(bQ);}else{if(aL&&U){G();}}}function ba(e){var bQ=az.getPrevSection(e,aH);if(bQ!=undefined){aE(bQ);}else{if(aL&&U){G();}}}function ab(e){var bQ=az.getNextPage(e);
if(bQ!=undefined){aE(bQ);}else{if(aL&&U){G();}}}function A(e){var bQ=az.getPrevPage(e);if(bQ!=undefined){aE(bQ);}else{if(aL&&U){G();}}}function aa(){var bQ=aa.arguments;
if(bQ.length>0){if(bQ.length==1){if(Brav1Toolbox.typeOf(bQ[0])==="Object"){var bU=bQ[0];var bT=bU.section;var bS=bU.page;if(bT!=null&&bT!=undefined){var e=document.querySelector(aQ+"[data-id="+aR(bT)+"]");
if(bS!=null&&bS!=undefined){var bR=e.querySelector(q+"[data-id="+aR(bS)+"]");if(bR!=null){aE(bR);return;}}}}else{if(bQ[0].nodeName!=undefined){aE(bQ[0],null,true);
}}}if(Brav1Toolbox.typeOf(bQ[0])==="Number"||bQ[0]===0){var bR=az.getPageByIndex(bQ[1],bQ[0]);aE(bR);return;}}}function bP(){aa(0,0);}function bz(){var e=az.getSectionsLength()-1;
aa(e,az.getPages(e).length-1);}function w(){var e=az.getPageIndex();aa(e.section,0);}function a3(){var e=az.getPageIndex();aa(e.section,az.getPages(e.section).length-1);
}function C(bR,bQ,e){Brav1Toolbox.addListener(document,bR,bQ,e);}function N(e){aH=e===true?true:false;bc(e);}function bc(e){bN=e===true?true:false;}function S(e){r=e===true?true:false;
}function Z(e){ag=e===true?true:false;aE();}function aG(e){aO=e===true?true:false;}function a1(e){u=e===true?true:false;}function aP(e){aO=e===true?false:true;
}function Q(e){U=e===true?true:false;}function b(e){a9=e===true?true:false;}function aS(e){o=e===true?true:false;if(o){if(bA==null){bo();}bn();}else{if(bA!=null){aI();
}}}function ah(e,bQ){bl=e;bk=bQ==undefined?bl:bQ;az.update();}function aD(e){bL=e===true?true:false;}function a6(){return az.getPageIndex().section;}function bB(){return az.getPageIndex().page;
}function bu(e){bb=e===true?true:false;}function p(e){ac=e===true?true:false;}function ad(bR,bQ,e,bS){bD=bR===false?false:true;ao=bQ===false?false:true;
bJ=e===false?false:true;L=bS===false?false:true;}function aK(bR,bQ,e,bS){bD=bR===false?true:false;ao=bQ===false?true:false;bJ=e===false?true:false;L=bS===false?true:false;
}function bv(e){bD=e===false?false:true;}function bi(e){ao=e===false?false:true;}function aM(e){bJ=e===false?false:true;}function I(e){L=e===false?false:true;
}function al(e){if(M!==e){M=e===true?true:false;if(!Brav1Toolbox.hasClass(bK,y)&&M===true){Brav1Toolbox.addClass(bK,y);}else{if(Brav1Toolbox.hasClass(bK,y)&&M!==true){Brav1Toolbox.removeClass(bK,y);
}}if(bA){if(!Brav1Toolbox.hasClass(bA,y)&&M===true){Brav1Toolbox.addClass(bA,y);}else{if(Brav1Toolbox.hasClass(bA,y)&&M!==true){Brav1Toolbox.removeClass(bA,y);
}}}az.updateOffsets();aE();}}function bp(e){n=e;}function aJ(e){ay=e;}function bO(e){f=e===true?true:false;}return{start:P,updateNavigation:a,nextSection:bw,prevSection:ba,next:ab,prev:A,nextFragment:ab,prevFragment:A,gotoPage:aa,gotoHome:bP,gotoTop:w,gotoBottom:a3,gotoEnd:bz,toggleOverview:bd,showOverview:av,fragmentsOnSide:N,fragmentsOnBack:bc,useHistory:S,slideInPx:Z,sectionsSlideToTop:aG,nearestPageToTop:a1,gridNavigation:aP,useOverviewVariant:Q,twoStepsSlide:b,showProgress:aS,defaultParallaxValues:ah,parallaxInPx:aD,addEventListener:C,getDefaultProgress:i,getSection:az.getCurrentSection,getPage:az.getCurrentPage,getSectionIndex:a6,getPageIndex:bB,getPrevSection:az.getPrevSectionObject,getNextSection:az.getNextSectionObject,getPrevPage:az.getPrevPageObject,getNextPage:az.getNextPageObject,autoplay:H,play:Y,pause:bm,stop:br,loop:bu,clicker:p,mouseDragEnabled:ak,enableNavigation:ad,disableNavigation:aK,setLinksNavigation:bv,setKeyboardNavigation:bi,setScrollNavigation:aM,setTouchNavigation:I,setCrossDirection:al,setDebouncingDelay:bp,onNavigation:aJ,rememberSectionsStatus:bO};
})();